---
layout: post
title: C语言中的指针
categories: [C]
description: C语言中的指针
keywords: C, 指针
---

## 变量与地址

指针就是存储变量地址的变量。看下面的代码：
```
int i;
int *p;

i = 1;
p = &i;
printf("i=%d\n", i);
printf("%p\n", &i);
printf("%p\n", p);
printf("*p=%d\n", *p);
```
输出结果：
```
i=1
&i=0x7fffaadb8d6c
p=0x7fffaadb8d6c
*p=1
```
指针变量p的值就是变量i的地址，指针p指向地址存储的值即i变量的值。

## 指针与指针变量

指针变量即存储指针地址的变量。看如下代码：
```
int i;
int *p;
int **q;

p = &i;
q = &p;
printf("&i=%p\n",&i);
printf("p=%p\n", p);
printf("&p=%p\n", &p);
printf("q=%p\n", q);
```
输出结果：
```
&i=0x7ffc16550df4
p=0x7ffc16550df4
&p=0x7ffc16550df8
q=0x7ffc16550df8
```
指针变量q存储的是指针p的地址。

不管是何种类型的指针，指针在一个平台所占的大小是固定的，比如：在32位的操作系统中指针占4个字节，在64位的操作系统占8字节。看如下例子：
```
int *p;
int **q;
float *f;
double *d;
char *c;

printf("%d\n", sizeof(p));
printf("%d\n", sizeof(q));
printf("%d\n", sizeof(f));
printf("%d\n", sizeof(d));
printf("%d\n", sizeof(c));
```
输出结果：
```
8
8
8
8
8
```
各个类型的指针大小均为8个字节大小。另外需要注意，指针与所指向的变量类型必须相同，因为指针会找对应类型大小存储空间来读取变量的值，例如：如果指针的类型是char，那么这个指针会读取指针指向地址一个字节大小的值，如果这个指针的变量是int，那么这个指针会读取指向地址4个字节大小的值。当然这里说指向char类型指针的类型是char，指向int类型指针的类型是int，这种说法是不准确的，指向char类型指针的变量类型应该是char*，指向int类型指针的变量类型应该是int*。


## 空指针与野指针

## 空类型

## 定义与初始化的书写规则

## 指针运算

## 指针与数组

### 指针与一维数组

### 指针与二维数组

### 指针与字符数组

## const与指针

## 指针数组和数组指针

## 多级指针

